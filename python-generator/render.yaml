services:
  - type: web
    name: python-generator
    env: python
    region: oregon
    plan: starter  # Use 'starter' for paid or 'free' for free tier
    buildCommand: pip install --upgrade pip setuptools wheel && python -c "import sys; lines = [l for l in open('requirements.txt') if not l.strip().startswith('pywin32') and not l.strip().startswith('pyreadline3') and not l.strip().startswith('#') and l.strip()]; open('requirements-clean.txt', 'w').writelines(lines)" && pip install --no-cache-dir -r requirements-clean.txt
    startCommand: python app.py
    healthCheckPath: /
    envVars:
      - key: SUPABASE_URL
        sync: false
      - key: SUPABASE_KEY
        sync: false
      - key: GEMINI_API_KEY
        sync: false
      - key: COHERE_API_KEY
        sync: false
      - key: PYTHON_VERSION
        value: 3.11

